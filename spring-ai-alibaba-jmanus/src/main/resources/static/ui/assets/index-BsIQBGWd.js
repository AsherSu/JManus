import{d as L,u as E,r as m,c as v,U as $,o as B,E as I,a as u,b as l,e as t,f as g,g as h,i as r,t as d,j as U,F as V,q as D,n as F,l as w,V as N}from"./index-BFaTisPL.js";import{I as i,_ as x}from"./_plugin-vue_export-helper-Cv-04SGt.js";const M={class:"language-switcher"},O=["title"],S={class:"current-lang"},j={class:"dropdown-header"},q={class:"language-options"},z=["disabled","onClick"],K={class:"lang-code"},A={class:"lang-name"},G=L({__name:"index",setup(H){const{locale:_}=E(),a=m(!1),o=v(()=>_.value),f=v(()=>$.opts),b=v(()=>{const e=f.value.find(n=>n.value===o.value);return e?e.title:"Unknown"}),y=()=>{a.value=!a.value},c=m(!1),C=async e=>{if(!(c.value||o.value===e))try{c.value=!0,await N(e),a.value=!1}catch(n){console.error("Failed to change language:",n),a.value=!1}finally{c.value=!1}},k=e=>{e.target.closest(".language-switcher")||(a.value=!1)},p=e=>{e.key==="Escape"&&(a.value=!1)};return B(()=>{document.addEventListener("click",k),document.addEventListener("keydown",p)}),I(()=>{document.removeEventListener("click",k),document.removeEventListener("keydown",p)}),(e,n)=>(l(),u("div",M,[t("button",{class:"language-btn",onClick:y,title:e.$t("language.switch")},[h(r(i),{icon:"carbon:translate",width:"18"}),t("span",S,d(b.value),1),h(r(i),{icon:a.value?"carbon:chevron-up":"carbon:chevron-down",width:"14",class:"chevron"},null,8,["icon"])],8,O),a.value?(l(),u("div",{key:0,class:"language-dropdown",onClick:n[1]||(n[1]=U(()=>{},["stop"]))},[t("div",j,[t("span",null,d(e.$t("language.switch")),1),t("button",{class:"close-btn",onClick:n[0]||(n[0]=s=>a.value=!1)},[h(r(i),{icon:"carbon:close",width:"16"})])]),t("div",q,[(l(!0),u(V,null,D(f.value,s=>(l(),u("button",{key:s.value,class:F(["language-option",{active:o.value===s.value,loading:c.value&&o.value!==s.value}]),disabled:c.value,onClick:J=>C(s.value)},[t("span",K,d(s.value.toUpperCase()),1),t("span",A,d(s.title),1),c.value&&o.value!==s.value?(l(),w(r(i),{key:0,icon:"carbon:circle-dash",width:"16",class:"loading-icon"})):o.value===s.value?(l(),w(r(i),{key:1,icon:"carbon:checkmark",width:"16",class:"check-icon"})):g("",!0)],10,z))),128))])])):g("",!0),a.value?(l(),u("div",{key:1,class:"backdrop",onClick:n[2]||(n[2]=s=>a.value=!1)})):g("",!0)]))}}),R=x(G,[["__scopeId","data-v-25f759dc"]]);export{R as L};
